# MOTFKRM Marzban Backup (ÙØ§Ø±Ø³ÛŒ)

**For English speakers:** see [README.md](README.md) for instructions in English.

# MOTFKRM Marzban Backup

ÛŒÚ© Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ø±Ø§ÛŒ Ø¨Ú©Ø§Ù¾â€ŒÚ¯ÛŒØ±ÛŒ Ø§Ø² Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ `/var/lib/marzban` Ùˆ `/opt/marzban` Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø¢Ù† Ø¨Ù‡ Ø±Ø¨Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù….  
ØªÙ…Ø§Ù… Ù…Ø±Ø§Ø­Ù„ Ù†ØµØ¨ØŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ùˆ Ú©Ø±ÙˆÙ† Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ù‡ ØµÙˆØ±Øª ÛŒÚ©Ø¬Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯.

## ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§

- Ø¨Ú©Ø§Ù¾â€ŒÚ¯ÛŒØ±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ø§Ø² Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ù… Ø³Ø±ÙˆØ±
- Ø§Ø±Ø³Ø§Ù„ ÙØ§ÛŒÙ„ ZIP Ø¨Ù‡ Ø±Ø¨Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù…
- Ø§Ù…Ú©Ø§Ù† Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ù¾Ø´Ù† Ø¯Ù„Ø®ÙˆØ§Ù‡ Ùˆ Ù…Ø´Ø§Ù‡Ø¯Ù‡ IP Ø³Ø±ÙˆØ±
- Ø§ÛŒØ¬Ø§Ø¯ cron job Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ø±Ø§ÛŒ Ø¨Ú©Ø§Ù¾ Ù‡Ø± X Ø³Ø§Ø¹Øª
- Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª ÛŒÚ©Ø¨Ø§Ø± backup Ø¨Ø¹Ø¯ Ø§Ø² Ù†ØµØ¨
- Ù…Ø­ÛŒØ· Ù…Ø¬Ø§Ø²ÛŒ `venv` Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§

## Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§

- Python 3.12 ÛŒØ§ Ø¨Ø§Ù„Ø§ØªØ±
- Ø³ÛŒØ³ØªÙ… Ø¹Ø§Ù…Ù„ Linux (Ubuntu/Debian ØªÙˆØµÛŒÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯)
- Ø¯Ø³ØªØ±Ø³ÛŒ sudo Ø¨Ø±Ø§ÛŒ Ù†ØµØ¨ pip Ùˆ venv

## Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ

`git clone https://github.com/MrTabahkar/Marzban-backup.git`
`cd Marzban-backup`
`bash setup.sh`

Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ù‡Ù…Ù‡ Ú©Ø§Ø±Ù‡Ø§ Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ø¯:
 â€¢ venv Ù…ÛŒâ€ŒØ³Ø§Ø²Ø¯ Ùˆ ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
 â€¢ pip Ø±Ø§ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ùˆ ØªÙ…Ø§Ù… Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§ Ø±Ø§ Ù†ØµØ¨ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
 â€¢ setup_backup.py Ø§Ø¬Ø±Ø§ Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª token, chat_id, caption, interval_hours Ø±Ø§ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯
 â€¢ cron job Ø®ÙˆØ¯Ú©Ø§Ø± Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
 â€¢ ÛŒÚ©Ø¨Ø§Ø± backup.py Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ ØªØ§ Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒÙ… Ù‡Ù…Ù‡ Ú†ÛŒØ² Ø¯Ø±Ø³Øª Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯

# Ø§Ø¬Ø±Ø§ÛŒ Ø¯Ø³ØªÛŒ

`source venv/bin/activate`
`python3 backup.py`

## Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡

Marzban-backup/
â”‚
â”œâ”€ backup.py           # Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø§ØµÙ„ÛŒ Ø¨Ú©Ø§Ù¾
â”œâ”€ setup_backup.py     # Ú¯Ø±ÙØªÙ† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ùˆ Ø§ÛŒØ¬Ø§Ø¯ cron job
â”œâ”€ requirements.txt    # Ù„ÛŒØ³Øª Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§
â”œâ”€ setup.sh            # Ù†ØµØ¨ Ø®ÙˆØ¯Ú©Ø§Ø± Ùˆ Ø§Ø¬Ø±Ø§ÛŒ setup
â”œâ”€ setup.py            # Ù†ØµØ¨ Ø¨Ø§ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Python (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
â””â”€ config.json         # Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú©Ø§Ø±Ø¨Ø±

## ØªÙ†Ø¸ÛŒÙ…Ø§Øª backup

- Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø¨Ú©Ø§Ù¾: `/var/lib/marzban` Ùˆ `/opt/marzban`
- ÙØ§ÛŒÙ„ ZIP Ø¨Ø§ timestamp Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯: `marzban_backup_YYYYMMDD_HHMMSS.zip`
- Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ ZIP Ù†Ø³Ø¨ÛŒ Ù‡Ø³ØªÙ†Ø¯ Ùˆ Ø³Ø§Ø®ØªØ§Ø± Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ Ø­ÙØ¸ Ù…ÛŒâ€ŒØ´ÙˆØ¯
- Ú©Ù¾Ø´Ù† Ø´Ø§Ù…Ù„ IP Ø³Ø±ÙˆØ±ØŒ Ú©Ù¾Ø´Ù† Ú©Ø§Ø±Ø¨Ø±ØŒ Ù„ÛŒÙ†Ú© GitHub Ùˆ Ø§Ø³Ù¾Ø§Ù†Ø³Ø± HTML Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯

## Ù†Ú©Ø§Øª Ù…Ù‡Ù…

- Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø­Ø§ØµÙ„ Ú©Ù†ÛŒØ¯ Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø¨Ú©Ø§Ù¾ Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ø´Ù†Ø¯ Ùˆ Ú©Ø§Ø±Ø¨Ø± Ø§Ø¬Ø±Ø§Ú©Ù†Ù†Ø¯Ù‡ script Ø¯Ø³ØªØ±Ø³ÛŒ Ø®ÙˆØ§Ù†Ø¯Ù† Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯
- cron job Ø·Ø¨Ù‚ ÙØ§ØµÙ„Ù‡ Ø³Ø§Ø¹ØªÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù…Ø´Ø®Øµ Ú©Ø±Ø¯Ù‡ Ø§Ø³ØªØŒ ÙØ§ÛŒÙ„ backup.py Ø±Ø§ Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ø­ØªÛŒ Ø§Ú¯Ø± ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ø¨Ø³ØªÙ‡ Ø´ÙˆØ¯
- Ø§Ú¯Ø± Ø¨Ø®ÙˆØ§Ù‡ÛŒØ¯ Ù…Ø³ÛŒØ± ÛŒØ§ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯ØŒ Ú©Ø§ÙÛŒ Ø§Ø³Øª config.json Ø±Ø§ ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù†ÛŒØ¯

## Dependencies

ØªÙ…Ø§Ù… Ù¾Ú©ÛŒØ¬â€ŒÙ‡Ø§ Ø¯Ø± requirements.txt Ø°Ú©Ø± Ø´Ø¯Ù‡ Ø§Ø³Øª:

python-telegram-bot>=20.0,<22.0
requests

## Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ

â›“ï¸â€ðŸ’¥GitHub: [Marzban-Backup](https://github.com/MrTabahkar/Marzban-backup)
ðŸ“± Telegram: [@MOTFKRM](https://t.me/MOTFKRM)  
ðŸ“¢ Channel: [@TFKORAT](https://t.me/TFKORAT)